{"version":3,"file":"parameters.js","sources":["../../src/libs/parameters.ts"],"sourcesContent":["/**\n * Declarative parameter definition API for Protobox apps.\n * Used by preview to render parameter UI and pass values to apps via postMessage.\n */\n\nexport type ParameterType = 'boolean' | 'number' | 'string' | 'option' | 'option-multi'\n\nexport interface OptionParam {\n  type: 'option'\n  key: string\n  label: string\n  default: string\n  options: Array<{ value: string; label: string }>\n}\n\nexport interface OptionMultiParam {\n  type: 'option-multi'\n  key: string\n  label: string\n  default: string[]\n  options: Array<{ value: string; label: string }>\n}\n\nexport interface BooleanParam {\n  type: 'boolean'\n  key: string\n  label: string\n  default: boolean\n}\n\nexport interface NumberParam {\n  type: 'number'\n  key: string\n  label: string\n  default: number\n  min?: number\n  max?: number\n  step?: number\n}\n\nexport interface StringParam {\n  type: 'string'\n  key: string\n  label: string\n  default: string\n}\n\nexport type ParameterDefinition = BooleanParam | NumberParam | StringParam | OptionParam | OptionMultiParam\n\nexport type ParameterValues = Record<string, boolean | number | string | string[]>\n\n/** Helper to define a boolean parameter */\nexport function paramBoolean(key: string, label: string, defaultValue: boolean): BooleanParam {\n  return { type: 'boolean', key, label, default: defaultValue }\n}\n\n/** Helper to define a number parameter */\nexport function paramNumber(\n  key: string,\n  label: string,\n  defaultValue: number,\n  opts?: { min?: number; max?: number; step?: number },\n): NumberParam {\n  return {\n    type: 'number',\n    key,\n    label,\n    default: defaultValue,\n    ...opts,\n  }\n}\n\n/** Helper to define a string parameter */\nexport function paramString(key: string, label: string, defaultValue: string): StringParam {\n  return { type: 'string', key, label, default: defaultValue }\n}\n\n/** Helper to define a single-select option parameter */\nexport function paramOption(\n  key: string,\n  label: string,\n  defaultValue: string,\n  options: Array<{ value: string; label: string }>,\n): OptionParam {\n  return { type: 'option', key, label, default: defaultValue, options }\n}\n\n/** Helper to define a multi-select option parameter */\nexport function paramOptionMulti(\n  key: string,\n  label: string,\n  defaultValue: string[],\n  options: Array<{ value: string; label: string }>,\n): OptionMultiParam {\n  return { type: 'option-multi', key, label, default: defaultValue, options }\n}\n\n/** Extract default values from parameter definitions */\nexport function getDefaultParameterValues(params: ParameterDefinition[]): ParameterValues {\n  const values: ParameterValues = {}\n  for (const p of params) {\n    values[p.key] = p.default\n  }\n  return values\n}\n"],"names":[],"mappings":"AAoDO,SAAS,aAAa,KAAa,OAAe,cAAqC;AAC5F,SAAO,EAAE,MAAM,WAAW,KAAK,OAAO,SAAS,aAAA;AACjD;AAGO,SAAS,YACd,KACA,OACA,cACA,MACa;AACb,SAAO;AAAA,IACL,MAAM;AAAA,IACN;AAAA,IACA;AAAA,IACA,SAAS;AAAA,IACT,GAAG;AAAA,EAAA;AAEP;AAGO,SAAS,YAAY,KAAa,OAAe,cAAmC;AACzF,SAAO,EAAE,MAAM,UAAU,KAAK,OAAO,SAAS,aAAA;AAChD;AAGO,SAAS,YACd,KACA,OACA,cACA,SACa;AACb,SAAO,EAAE,MAAM,UAAU,KAAK,OAAO,SAAS,cAAc,QAAA;AAC9D;AAGO,SAAS,iBACd,KACA,OACA,cACA,SACkB;AAClB,SAAO,EAAE,MAAM,gBAAgB,KAAK,OAAO,SAAS,cAAc,QAAA;AACpE;AAGO,SAAS,0BAA0B,QAAgD;AACxF,QAAM,SAA0B,CAAA;AAChC,aAAW,KAAK,QAAQ;AACtB,WAAO,EAAE,GAAG,IAAI,EAAE;AAAA,EACpB;AACA,SAAO;AACT;"}