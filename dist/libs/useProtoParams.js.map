{"version":3,"file":"useProtoParams.js","sources":["../../src/libs/useProtoParams.ts"],"sourcesContent":["import { useState, useEffect } from 'react'\n\ndeclare global {\n  interface Window {\n    __PROTO_PARAMS__?: Record<string, unknown>\n  }\n}\n\n/** Hook for Proto app params. Uses window.__PROTO_PARAMS__ as initial state, updates from postMessage. */\nexport function useProtoParams(): Record<string, unknown> {\n  const [params, setParams] = useState<Record<string, unknown>>(() => {\n    if (typeof window === 'undefined') return {}\n    return window.__PROTO_PARAMS__ ?? {}\n  })\n\n  useEffect(() => {\n    const handler = (e: MessageEvent) => {\n      if (e.data?.type === 'proto-params' && e.data.params) {\n        setParams(e.data.params as Record<string, unknown>)\n      }\n    }\n    window.addEventListener('message', handler)\n    return () => window.removeEventListener('message', handler)\n  }, [])\n\n  return params\n}\n"],"names":[],"mappings":";AASO,SAAS,iBAA0C;AACxD,QAAM,CAAC,QAAQ,SAAS,IAAI,SAAkC,MAAM;AAClE,QAAI,OAAO,WAAW,YAAa,QAAO,CAAA;AAC1C,WAAO,OAAO,oBAAoB,CAAA;AAAA,EACpC,CAAC;AAED,YAAU,MAAM;AACd,UAAM,UAAU,CAAC,MAAoB;AACnC,UAAI,EAAE,MAAM,SAAS,kBAAkB,EAAE,KAAK,QAAQ;AACpD,kBAAU,EAAE,KAAK,MAAiC;AAAA,MACpD;AAAA,IACF;AACA,WAAO,iBAAiB,WAAW,OAAO;AAC1C,WAAO,MAAM,OAAO,oBAAoB,WAAW,OAAO;AAAA,EAC5D,GAAG,CAAA,CAAE;AAEL,SAAO;AACT;"}